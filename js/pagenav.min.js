/* ------
 * pagenav.js
 * by ZHAO Xudong, zxdong@gmail.com
 * http://html5beta.com/pagenavjs/
-------*/(function(){var e={itemPerPage:10,maxLinkShow:5,itemTotal:0,page:1,lang:{page:"page",intotal:"in total",Prev:"Prev",Next:"Next"}},t=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[1]||{},u=2),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),a===u&&(o=this,--u);for(;u<a;u++)if((i=arguments[u])!=null)for(r in i){e=o[r],n=i[r];if(o===n)continue;f&&n&&(jQuery.isPlainObject(n)||(t=jQuery.isArray(n)))?(t?(t=!1,s=e&&jQuery.isArray(e)?e:[]):s=e&&jQuery.isPlainObject(e)?e:{},o[r]=jQuery.extend(f,s,n)):n!==undefined&&(o[r]=n)}return o},n=this,r=function(n){var r=t(e,n,!0),i={currentPage:r.page,totalItems:r.itemTotal},s,o,u="",a,f=[],l=r.itemPerPage,c=r.page,h=r.itemTotal,p=r.maxLinkShow,d=h%l,v=Math.floor(h/l),m=d?v+1:v;h<=0?a=0:c<m?a=l:a=d?d:l;if(m>0){u='<span class="pagenav-desc">['+r.lang.page+'<span class="pagenav-current">'+c+'</span>ï¼Œ<span class="pagenav-total">'+m+"</span> "+r.lang.intotal+"]</span>";if(m<=p)for(s=1;s<=m;s++){var g,y,b;c==s?(g="pagenav-current-link pagenav-link",y=!0):(g="pagenav-link",y=!1),b={text:s,index:s,isCurrent:y,cls:g},f.push(b)}else if(m>p){var w=p-3;(c>=m-1||c<=2)&&w++;var E=Math.floor(w/2),S=w-E,T=c-1,N=m-c,C;c-1>E&&f.push({text:r.lang.Prev,index:c-1,isCurrent:!1,cls:"pagenav-link pagenav-link-prev"}),N<=S?(C=w-N,f.push({text:1,index:1,isCurrent:!1,cls:"pagenav-link"})):T>E?(C=E,f.push({text:1,index:1,isCurrent:!1,cls:"pagenav-link"})):C=T;var k=w-C;for(s=0;s<C;s++){var b={text:c-C+s,index:c-C+s,isCurrent:!1,cls:"pagenav-link"};f.push(b)}f.push({text:c,index:c,isCurrent:!0,cls:"pagenav-link pagenav-current-link"});for(s=1;s<=k;s++){var b={text:c+s,index:c+s,isCurrent:!1,cls:"pagenav-link"};f.push(b)}N>k&&f.push({text:m,index:m,isCurrent:c==m?!0:!1,cls:c==m?"pagenav-link pagenav-current-link":"pagenav-link"}),N>S&&f.push({text:r.lang.Next,index:c+1,isCurrent:!1,cls:"pagenav-link pagenav-link-next"})}}else u="";for(x in f){var L=f[x],A=(L.isCurrent?"<span ":'<a href="javascript:;" ')+'data-page="'+L.index+'" '+'class="page-'+L.index+" "+L.cls+'">['+L.text+"]</"+(L.isCurrent?"span>":"a>");u+=A}return i.navHtml=u,i};n.pagenav=r}).call(this);