/* ------
 * pagenav
 * by ZHAO Xudong, zxdong@gmail.com
 * http://html5beta.com/pagenavjs/
-------*/;(function(){var e=this,t=function(e){var t={itemPerPage:e.itemPerPage||10,maxLinkShow:e.maxLinkShow||5,itemTotal:e.itemTotal||0,page:e.page||1,lang:e.lang||{page:"page",afterCurrentPage:", ",intotal:"in total",Prev:"Prev",Next:"Next",more:"..."}},n,r,i="",s,o=[],u=t.itemPerPage,a=t.page,f=t.itemTotal,l=t.maxLinkShow,c=f%u,h=Math.floor(f/u),p=c?h+1:h;f<=0?s=0:a<p?s=u:s=c?c:u;if(p>0){i='<span class="pagenav-wrapper'+(p===1?"only-one-page":"")+'"><span class="pagenav-desc">'+t.lang.page+'<span class="pagenav-current">'+a+'</span><span class="pagenav-acp">'+t.lang.afterCurrentPage+'</span><span class="pagenav-total">'+p+"</span> "+t.lang.intotal+'</span><span class="pagenav-units">';if(p<=l)for(n=1;n<=p;n++){var d,v,m;a==n?(d="pagenav-current-link pagenav-link",v=!0):(d="pagenav-link",v=!1),m={text:n,index:n,isCurrent:v,cls:d},o.push(m)}else if(p>l){var g=l-3;(a>=p-1||a<=2)&&g++;var y=Math.floor(g/2),b=g-y,w=a-1,E=p-a,S;a-1>y&&o.push({text:t.lang.Prev,index:a-1,isCurrent:!1,cls:"pagenav-link pagenav-link-prev"}),E<=b?(S=g-E,o.push({text:1,index:1,isCurrent:!1,cls:"pagenav-link"})):w>y?(S=y,o.push({text:1,index:1,isCurrent:!1,cls:"pagenav-link"})):S=w;var x=g-S;for(n=0;n<S;n++){var m={text:a-S+n,index:a-S+n,isCurrent:!1,cls:"pagenav-link"};o.push(m)}o.push({text:a,index:a,isCurrent:!0,cls:"pagenav-link pagenav-current-link"});for(n=1;n<=x;n++){var m={text:a+n,index:a+n,isCurrent:!1,cls:"pagenav-link"};o.push(m)}E>x&&o.push({text:p,index:p,isCurrent:a==p?!0:!1,cls:a==p?"pagenav-link pagenav-current-link":"pagenav-link"}),E>b&&o.push({text:t.lang.Next,index:a+1,isCurrent:!1,cls:"pagenav-link pagenav-link-next"})}}else i="";var T=o.length,N,C=0,k,L="",A=!1,O="";for(;C<T;C++)k=o[C],C>0&&(A=o[C-1]),L=(k.isCurrent?"<span ":'<a href="javascript:;" ')+'data-page="'+k.index+'" '+'class="page-'+k.index+" "+k.cls+'">['+k.text+"]</"+(k.isCurrent?"span>":"a>"),A&&A.index<k.index-1&&(i+='<span class="pagenav-more">'+t.lang.more+"</span>"),i+=L;return i+="</span></span>",i};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=t),exports.pagenav=t):e.pagenav=t}).call(this);